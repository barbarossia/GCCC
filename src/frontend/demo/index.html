<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GCCC 用户管理模块 Demo</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- 主容器 -->
    <div id="app">
        <!-- 导航栏 -->
        <nav class="navbar">
            <div class="nav-container">
                <div class="nav-brand">
                    <img src="https://via.placeholder.com/40x40/3B82F6/FFFFFF?text=GCCC" alt="GCCC" class="logo">
                    <span class="brand-name">GCCC Platform</span>
                </div>
                
                <div class="nav-menu">
                    <a href="#" class="nav-link">仪表盘</a>
                    <a href="#" class="nav-link">提案</a>
                    <a href="#" class="nav-link">投票</a>
                    <a href="#" class="nav-link">抽奖</a>
                </div>

                <div class="nav-actions">
                    <button id="loginBtn" class="btn btn-primary">登录</button>
                    <button id="userMenuBtn" class="user-menu-btn" style="display: none;">
                        <img src="https://via.placeholder.com/32x32/6366F1/FFFFFF?text=U" alt="用户头像" class="user-avatar">
                        <span class="username">测试用户</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                </div>
            </div>
        </nav>

        <!-- 主要内容区域 -->
        <main class="main-content">
            <!-- 欢迎页面（未登录状态） -->
            <div id="welcomePage" class="welcome-page">
                <div class="welcome-container">
                    <div class="welcome-hero">
                        <h1>欢迎来到 GCCC 平台</h1>
                        <p>全球共识纪念币 - 连接您的钱包，开始您的Web3之旅</p>
                        <div class="hero-actions">
                            <button id="heroLoginBtn" class="btn btn-primary btn-large">
                                <i class="fas fa-wallet"></i>
                                连接钱包登录
                            </button>
                            <button id="heroRegisterBtn" class="btn btn-outline btn-large">
                                <i class="fas fa-user-plus"></i>
                                创建账户
                            </button>
                        </div>
                    </div>
                    
                    <div class="features-grid">
                        <div class="feature-card">
                            <div class="feature-icon">🔐</div>
                            <h3>安全认证</h3>
                            <p>基于钱包签名的Web3原生认证</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">💎</div>
                            <h3>数字资产</h3>
                            <p>管理您的SOL、GCCC代币和NFT</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">🎯</div>
                            <h3>治理投票</h3>
                            <p>参与社区决策，质押获得奖励</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">🎁</div>
                            <h3>推荐奖励</h3>
                            <p>邀请好友注册，获得丰厚奖励</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 用户仪表盘（已登录状态） -->
            <div id="userDashboard" class="user-dashboard" style="display: none;">
                <!-- 用户信息卡片 -->
                <div class="user-profile-card">
                    <div class="profile-main">
                        <div class="user-avatar-container">
                            <div class="user-avatar-large">
                                <img id="userAvatarImg" src="https://via.placeholder.com/80x80/6366F1/FFFFFF?text=张" alt="用户头像">
                            </div>
                            <div class="vip-badge diamond">DIAMOND</div>
                        </div>

                        <div class="user-info">
                            <div class="username-section">
                                <h2 class="username">张小明</h2>
                                <span class="verified-badge" title="已认证用户">✅</span>
                            </div>
                            
                            <div class="user-stats">
                                <div class="stat-item">
                                    <span class="stat-label">等级</span>
                                    <span class="stat-value">15</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">积分</span>
                                    <span class="stat-value">12,350</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">推荐码</span>
                                    <span class="stat-value referral-code">ABC123</span>
                                </div>
                            </div>
                        </div>

                        <div class="profile-actions">
                            <button id="profileMenuBtn" class="profile-menu-btn">
                                <i class="fas fa-cog"></i>
                            </button>
                        </div>
                    </div>

                    <div class="level-progress">
                        <div class="progress-info">
                            <span>经验值</span>
                            <span>12,350 / 16,000</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 77%"></div>
                        </div>
                    </div>
                </div>

                <!-- 功能卡片网格 -->
                <div class="dashboard-grid">
                    <!-- 个人资料管理卡片 -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <div class="card-icon">👤</div>
                            <div class="card-title">
                                <h3>个人资料</h3>
                                <p>管理您的账户信息</p>
                            </div>
                        </div>
                        <div class="card-content">
                            <div class="info-item">
                                <span class="label">用户名:</span>
                                <span class="value">张小明</span>
                            </div>
                            <div class="info-item">
                                <span class="label">邮箱:</span>
                                <span class="value">zhang@example.com</span>
                            </div>
                            <div class="info-item">
                                <span class="label">KYC状态:</span>
                                <span class="value status verified">已认证</span>
                            </div>
                        </div>
                        <div class="card-actions">
                            <button id="editProfileBtn" class="btn btn-outline btn-small">编辑资料</button>
                        </div>
                    </div>

                    <!-- 钱包管理卡片 -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <div class="card-icon">💳</div>
                            <div class="card-title">
                                <h3>钱包管理</h3>
                                <p>管理您的钱包地址</p>
                            </div>
                        </div>
                        <div class="card-content">
                            <div class="wallet-item primary">
                                <div class="wallet-info">
                                    <span class="wallet-label">主钱包</span>
                                    <span class="wallet-address">7K8Z...x3mN</span>
                                </div>
                                <span class="wallet-badge">主要</span>
                            </div>
                            <div class="wallet-item">
                                <div class="wallet-info">
                                    <span class="wallet-label">辅助钱包</span>
                                    <span class="wallet-address">9R2T...y8pQ</span>
                                </div>
                                <span class="wallet-badge secondary">辅助</span>
                            </div>
                        </div>
                        <div class="card-actions">
                            <button id="manageWalletsBtn" class="btn btn-outline btn-small">管理钱包</button>
                        </div>
                    </div>

                    <!-- 安全设置卡片 -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <div class="card-icon">🔒</div>
                            <div class="card-title">
                                <h3>安全设置</h3>
                                <p>保护您的账户安全</p>
                            </div>
                        </div>
                        <div class="card-content">
                            <div class="security-item">
                                <div class="security-info">
                                    <span class="security-name">双重验证</span>
                                    <span class="security-status enabled">已启用</span>
                                </div>
                                <div class="security-toggle">
                                    <input type="checkbox" id="2fa" checked>
                                    <label for="2fa" class="toggle-label"></label>
                                </div>
                            </div>
                            <div class="security-item">
                                <div class="security-info">
                                    <span class="security-name">登录通知</span>
                                    <span class="security-status enabled">已启用</span>
                                </div>
                                <div class="security-toggle">
                                    <input type="checkbox" id="loginNotify" checked>
                                    <label for="loginNotify" class="toggle-label"></label>
                                </div>
                            </div>
                        </div>
                        <div class="card-actions">
                            <button id="securitySettingsBtn" class="btn btn-outline btn-small">安全设置</button>
                        </div>
                    </div>

                    <!-- 推荐系统卡片 -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <div class="card-icon">🎁</div>
                            <div class="card-title">
                                <h3>推荐好友</h3>
                                <p>邀请好友注册，双方都获得奖励</p>
                            </div>
                        </div>
                        <div class="card-content">
                            <div class="referral-stats">
                                <div class="stat-item">
                                    <div class="stat-number">8</div>
                                    <div class="stat-label">成功推荐</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-number">800</div>
                                    <div class="stat-label">推荐奖励</div>
                                </div>
                            </div>
                            <div class="referral-code-section">
                                <label>您的推荐码</label>
                                <div class="code-container">
                                    <span class="referral-code">ABC123</span>
                                    <button id="copyCodeBtn" class="copy-btn">📋</button>
                                </div>
                            </div>
                        </div>
                        <div class="card-actions">
                            <button id="shareReferralBtn" class="btn btn-primary btn-small">分享推荐</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- 登录模态框 -->
        <div id="loginModal" class="modal-overlay" style="display: none;">
            <div class="modal">
                <div class="modal-header">
                    <h2>登录 GCCC</h2>
                    <button id="closeLoginModal" class="close-btn">✕</button>
                </div>

                <div class="modal-content">
                    <!-- 步骤指示器 -->
                    <div class="step-indicator">
                        <div class="step active">
                            <span class="step-number">1</span>
                            <span class="step-label">连接钱包</span>
                        </div>
                        <div class="step">
                            <span class="step-number">2</span>
                            <span class="step-label">签名验证</span>
                        </div>
                        <div class="step">
                            <span class="step-number">3</span>
                            <span class="step-label">登录成功</span>
                        </div>
                    </div>

                    <!-- 连接钱包步骤 -->
                    <div id="connectStep" class="login-step">
                        <div class="step-icon">🔗</div>
                        <h3>连接您的钱包</h3>
                        <p>请先连接Solana钱包以继续登录</p>
                        
                        <div class="wallet-options">
                            <button class="wallet-btn phantom" onclick="connectWallet('phantom')">
                                <img src="https://via.placeholder.com/24x24/AB9FF2/FFFFFF?text=P" alt="Phantom">
                                <span>Phantom</span>
                            </button>
                            <button class="wallet-btn solflare" onclick="connectWallet('solflare')">
                                <img src="https://via.placeholder.com/24x24/FC9965/FFFFFF?text=S" alt="Solflare">
                                <span>Solflare</span>
                            </button>
                            <button class="wallet-btn backpack" onclick="connectWallet('backpack')">
                                <img src="https://via.placeholder.com/24x24/000000/FFFFFF?text=B" alt="Backpack">
                                <span>Backpack</span>
                            </button>
                        </div>
                    </div>

                    <!-- 签名验证步骤 -->
                    <div id="signStep" class="login-step" style="display: none;">
                        <div class="step-icon">✍️</div>
                        <h3>验证身份</h3>
                        <p>请在钱包中签名以验证身份</p>
                        
                        <div class="wallet-info">
                            <div class="wallet-address">
                                <span class="label">钱包地址:</span>
                                <span class="address">7K8Z...x3mN</span>
                            </div>
                        </div>

                        <button id="signLoginBtn" class="sign-btn">
                            <span>签名登录</span>
                            <div class="btn-icon">🔐</div>
                        </button>
                    </div>

                    <!-- 登录成功步骤 -->
                    <div id="successStep" class="login-step" style="display: none;">
                        <div class="success-icon">🎉</div>
                        <h3>登录成功！</h3>
                        <p>欢迎回到 GCCC 平台</p>
                        
                        <div class="user-welcome">
                            <div class="user-avatar">
                                <img src="https://via.placeholder.com/60x60/6366F1/FFFFFF?text=张" alt="头像">
                            </div>
                            <div class="user-info">
                                <div class="username">张小明</div>
                                <div class="user-level">等级 15 · 12,350 积分</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal-footer">
                    <p>
                        还没有账户？
                        <button id="switchToRegister" class="link-btn">立即注册</button>
                    </p>
                </div>
            </div>
        </div>

        <!-- 注册模态框 -->
        <div id="registerModal" class="modal-overlay" style="display: none;">
            <div class="modal">
                <div class="modal-header">
                    <h2>注册 GCCC 账户</h2>
                    <button id="closeRegisterModal" class="close-btn">✕</button>
                </div>

                <div class="modal-content">
                    <!-- 步骤进度 -->
                    <div class="step-progress">
                        <div class="progress-step active">
                            <span class="step-number">1</span>
                            <span class="step-text">基本信息</span>
                        </div>
                        <div class="progress-line"></div>
                        <div class="progress-step">
                            <span class="step-number">2</span>
                            <span class="step-text">完成注册</span>
                        </div>
                    </div>

                    <!-- 第一步：基本信息 -->
                    <div id="registerStep1" class="form-step">
                        <div class="form-group">
                            <label for="username">用户名 <span class="required">*</span></label>
                            <input id="username" type="text" placeholder="请输入用户名" value="张小明">
                        </div>

                        <div class="form-group">
                            <label for="email">邮箱地址</label>
                            <input id="email" type="email" placeholder="请输入邮箱地址（可选）" value="zhang@example.com">
                            <span class="field-hint">邮箱可用于接收重要通知和活动信息</span>
                        </div>

                        <div class="form-group">
                            <label for="referralCode">推荐码</label>
                            <input id="referralCode" type="text" placeholder="请输入推荐码（可选）" style="text-transform: uppercase;">
                            <span class="field-hint">输入推荐码可获得额外奖励</span>
                        </div>

                        <button id="nextStepBtn" class="next-step-btn">
                            下一步
                            <span class="btn-arrow">→</span>
                        </button>
                    </div>

                    <!-- 第二步：完成注册 -->
                    <div id="registerStep2" class="form-step" style="display: none;">
                        <!-- 钱包信息确认 -->
                        <div class="wallet-confirmation">
                            <h3>钱包信息确认</h3>
                            <div class="wallet-info">
                                <div class="wallet-icon">🔗</div>
                                <div class="wallet-details">
                                    <div class="wallet-address">7K8Z...x3mN</div>
                                    <div class="wallet-status">✅ 已连接</div>
                                </div>
                            </div>
                        </div>

                        <!-- 注册信息预览 -->
                        <div class="registration-preview">
                            <h3>注册信息预览</h3>
                            <div class="preview-items">
                                <div class="preview-item">
                                    <span class="label">用户名:</span>
                                    <span class="value">张小明</span>
                                </div>
                                <div class="preview-item">
                                    <span class="label">邮箱:</span>
                                    <span class="value">zhang@example.com</span>
                                </div>
                            </div>
                        </div>

                        <!-- 协议同意 -->
                        <div class="agreements">
                            <div class="form-group checkbox-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" checked>
                                    <span class="checkmark"></span>
                                    <span class="label-text">
                                        我已阅读并同意
                                        <a href="#" class="link">《服务条款》</a>
                                    </span>
                                </label>
                            </div>

                            <div class="form-group checkbox-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" checked>
                                    <span class="checkmark"></span>
                                    <span class="label-text">
                                        我已阅读并同意
                                        <a href="#" class="link">《隐私政策》</a>
                                    </span>
                                </label>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button id="backBtn" class="back-btn">← 返回</button>
                            <button id="completeRegisterBtn" class="register-btn">
                                <span>完成注册</span>
                                <div class="btn-icon">🚀</div>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="modal-footer">
                    <p>
                        已有账户？
                        <button id="switchToLogin" class="link-btn">立即登录</button>
                    </p>
                </div>
            </div>
        </div>

        <!-- 个人资料编辑模态框 -->
        <div id="profileModal" class="modal-overlay" style="display: none;">
            <div class="modal large">
                <div class="modal-header">
                    <h2>个人资料管理</h2>
                    <button id="closeProfileModal" class="close-btn">✕</button>
                </div>

                <div class="modal-content">
                    <!-- 标签页导航 -->
                    <div class="profile-tabs">
                        <button class="tab active" data-tab="profile">基本信息</button>
                        <button class="tab" data-tab="security">安全设置</button>
                        <button class="tab" data-tab="preferences">偏好设置</button>
                    </div>

                    <!-- 基本信息标签页 -->
                    <div id="profileTab" class="tab-content">
                        <!-- 头像部分 -->
                        <div class="avatar-section">
                            <div class="avatar-container">
                                <div class="avatar-display">
                                    <img src="https://via.placeholder.com/80x80/6366F1/FFFFFF?text=张" alt="头像">
                                </div>
                                <div class="avatar-actions">
                                    <button class="upload-btn">更换头像</button>
                                </div>
                            </div>

                            <div class="user-basic-info">
                                <h3>张小明</h3>
                                <p>等级 15 · 12,350 积分</p>
                                <div class="user-badges">
                                    <span class="badge verified">✅ 已认证</span>
                                    <span class="badge vip-diamond">DIAMOND</span>
                                </div>
                            </div>
                        </div>

                        <!-- 表单字段 -->
                        <div class="form-fields">
                            <div class="form-group">
                                <label for="editUsername">用户名</label>
                                <input id="editUsername" type="text" value="张小明">
                            </div>

                            <div class="form-group">
                                <label for="editEmail">邮箱地址</label>
                                <input id="editEmail" type="email" value="zhang@example.com">
                            </div>

                            <div class="form-group">
                                <label for="bio">个人简介</label>
                                <textarea id="bio" rows="4" placeholder="介绍一下您自己...">GCCC平台的忠实用户，热爱Web3技术。</textarea>
                            </div>

                            <!-- 钱包信息（只读） -->
                            <div class="form-group readonly">
                                <label>钱包地址</label>
                                <div class="wallet-address-display">
                                    <span class="address">7K8Z...x3mN</span>
                                    <button class="copy-btn" onclick="copyToClipboard('7K8ZaB2c...x3mN')">📋</button>
                                </div>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button class="save-btn">保存更改</button>
                        </div>
                    </div>

                    <!-- 安全设置标签页 -->
                    <div id="securityTab" class="tab-content" style="display: none;">
                        <div class="security-section">
                            <h3>登录安全</h3>
                            <div class="security-options">
                                <div class="security-option">
                                    <div class="option-info">
                                        <h4>双重验证</h4>
                                        <p>增强账户安全性</p>
                                    </div>
                                    <div class="option-control">
                                        <input type="checkbox" id="enable2FA" checked>
                                        <label for="enable2FA" class="toggle-label"></label>
                                    </div>
                                </div>
                                <div class="security-option">
                                    <div class="option-info">
                                        <h4>登录通知</h4>
                                        <p>新设备登录时发送通知</p>
                                    </div>
                                    <div class="option-control">
                                        <input type="checkbox" id="loginNotifications" checked>
                                        <label for="loginNotifications" class="toggle-label"></label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="security-section">
                            <h3>登录历史</h3>
                            <div class="login-history">
                                <div class="history-item">
                                    <div class="device-info">
                                        <i class="fas fa-desktop"></i>
                                        <div>
                                            <span class="device">Chrome on Windows</span>
                                            <span class="location">北京, 中国</span>
                                        </div>
                                    </div>
                                    <div class="login-time">2 小时前</div>
                                </div>
                                <div class="history-item">
                                    <div class="device-info">
                                        <i class="fas fa-mobile-alt"></i>
                                        <div>
                                            <span class="device">Safari on iPhone</span>
                                            <span class="location">上海, 中国</span>
                                        </div>
                                    </div>
                                    <div class="login-time">1 天前</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 偏好设置标签页 -->
                    <div id="preferencesTab" class="tab-content" style="display: none;">
                        <div class="preferences-section">
                            <h3>通知偏好</h3>
                            <div class="preference-options">
                                <div class="preference-option">
                                    <div class="option-info">
                                        <h4>邮件通知</h4>
                                        <p>接收重要更新和公告</p>
                                    </div>
                                    <div class="option-control">
                                        <input type="checkbox" id="emailNotif" checked>
                                        <label for="emailNotif" class="toggle-label"></label>
                                    </div>
                                </div>
                                <div class="preference-option">
                                    <div class="option-info">
                                        <h4>系统通知</h4>
                                        <p>浏览器推送通知</p>
                                    </div>
                                    <div class="option-control">
                                        <input type="checkbox" id="systemNotif" checked>
                                        <label for="systemNotif" class="toggle-label"></label>
                                    </div>
                                </div>
                                <div class="preference-option">
                                    <div class="option-info">
                                        <h4>营销通知</h4>
                                        <p>产品更新和促销活动</p>
                                    </div>
                                    <div class="option-control">
                                        <input type="checkbox" id="marketingNotif">
                                        <label for="marketingNotif" class="toggle-label"></label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="preferences-section">
                            <h3>语言和地区</h3>
                            <div class="preference-fields">
                                <div class="form-group">
                                    <label for="language">界面语言</label>
                                    <select id="language">
                                        <option value="zh-CN">简体中文</option>
                                        <option value="en-US">English</option>
                                        <option value="ja-JP">日本語</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="timezone">时区</label>
                                    <select id="timezone">
                                        <option value="Asia/Shanghai">亚洲/上海 (UTC+8)</option>
                                        <option value="Asia/Tokyo">亚洲/东京 (UTC+9)</option>
                                        <option value="America/New_York">美洲/纽约 (UTC-5)</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Toast 通知 -->
        <div id="toast" class="toast" style="display: none;">
            <div class="toast-content">
                <span id="toastMessage"></span>
                <button id="closeToast" class="toast-close">✕</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
